<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- 通过 本地 的方式引入 -->
  <script src="./lib/react.development.js"></script>
  <script src="./lib/react-dom.development.js"></script>
  <script src="./lib/babel.min.js"></script>
</head>

<body>
  <div id="app">
  </div>
  <script type="text/babel">
    // 在大多数情况下推荐使用 受控组件 来实现表单，表单数据 由 react 组件处理
    // 如果让 表单数据 由 DOM 处理，替代方案就是 非受控组件 技术
    // 非受控组件：
    //   在HTML中，类似于 <input type="file"> 从存储设备中选择一个或多个文件，
    //   然后通过 表单 上传到服务器，或者通过 JavaScript 的API对文件进行操作
    //   由于这类标签的 value 属性是只读的，所以它是 react 中的 非受控组件
    // Refs技术
    //   用于访问在render方法中创建的 DOM 节点或 react 元素
    // 使用Refs的场景
    //   1.处理焦点、文本选择、媒体控制
    //   2.触发强制动画
    //   3.集成第三方 DOM 库
    // 使用Refs的步骤
    //   1.在构造函数中创建一个引用 ref，赋值给 某个元素
    //   2.创建好的 ref 可以在组件的任意地方使用
    //     通过 this.xxxRef.current 属性对节点的引用进行访问
    class Form extends React.Component {
      constructor(props) {
        super(props)
        // 创建 ref
        this.usernameRef = React.createRef()
      }
      render() {
        return (
          <div>
            {/* 给元素添加 ref 属性 */}
            <input type="text" ref={this.usernameRef} />
            <button onClick={this.getText}>非受控组件获取输入框的值</button>
          </div>
        )
      }
      getText = () => {
        console.log(this.usernameRef.current.value)
      }
    }
    ReactDOM.render(<Form />, document.getElementById('app'))
  </script>
</body>

</html>